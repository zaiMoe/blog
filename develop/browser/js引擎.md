# js引擎
JS是解释型语言，所以它无需提前编译，而是由解释器实时运行

## 解释阶段
1. 读取代码，进行词法分析（Lexical analysis），然后将代码分解成词元（token）
2. 对词元进行语法分析（parsing），然后将代码整理成语法树（syntax tree）
3. 使用翻译器（translator），将代码转为字节码（bytecode）
4. 使用字节码解释器（bytecode interpreter），将字节码转为机器码，最终计算机执行的就是机器码。

为了提高运行速度，现代浏览器一般采用即时编译（JIT-Just In Time compiler）
即字节码只在运行时编译，用到哪一行就编译哪一行，并且把编译结果缓存（inline cache）

确定作用域？？？
## 预处理阶段
在正式执行JS前，还会有一个预处理阶段
1. 分号补全
2. 变量提升

### js的运行环境
1. 全局环境
2. 函数环境
3. eval有独自的作用域环境

### 函数调用栈/执行栈
每当发生函数调用，引擎都会为该函数创建一个新的函数**执行上下文**并Push到当前执行栈的栈顶。

当栈顶函数运行完成后，其对应的函数执行上下文将会从执行栈中Pop出，上下文控制权将移到当前执行栈的下一个执行上下文。

### 执行上下文的创建
执行上下文的组成由：
- AO：活动对象
- scope：作用域链
- this

三部分组成。

## 执行阶段
分同步任务、异步任务区处理任务

