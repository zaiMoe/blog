# 中后台系统路由表的最佳实践

> 整理下在一个项目中，一个路由表的最佳实践

![](./imgs/admin-sys.png)

> <https://iczer.gitee.io/vue-antd-admin/#/dashboard/workplace>

一个中后台系统的 UI 如上图类似，会分为

```text
一级菜单1
    页面 1-1
一级菜单2
    二级菜单2-1
        页面 2-1-1
        页面 2-1-2
    页面 2-2
    // 可以嵌套更多级的菜单
    
```

通常情况下，会分开设计两个结构来分别维护，比如针对菜单和面包屑

```tsx
// menus

[
    {
        title: "一级菜单1",
        children: [
            {
                title: "页面 1-1",
                path: "/menu1/page1-1"
            }
        ]
    },
    {
        title: "一级菜单2",
        children: [
            {
                title: "二级菜单2-1",
                children: [
                    {
                        title: "页面 2-1-1",
                        path: "/menu2/page2-1-1"
                    },
                    {
                        title: "页面 2-1-2",
                        path: "/menu2/page2-1-2"
                    }
                ]
            },
            {
                title: "页面 2-2",
                path: "/menu2/page2-2"
            }
        ]
    }
]
```

另外单独维护一个路由表

```tsx
// routeConfig

[
    {
        path: "/menu1/page1-1"
        component: "xx",
        children: [/* detail 等子路由，不显示在菜单中 */]
    },
    {
        path: "/menu2/page2-1-1",
        component: "xx",
    },
    {
        path: "/menu2/page2-1-2",
        component: "xx",
    },
    {
        path: "/menu2/page2-2"
        component: "xx",
    }
]
```

自习观察，发现这种路由表与菜单的结构是非常相似的，所以可以尝试维护一个新的数据结构，来减少项目开发中配置的成本（不用维护两份）。

## 菜单与路由表结合

1. 路由与菜单结合
2. 路由的场景: 嵌套、非嵌套、对应的页面场景
3. 路由结构体下，path 是否父子关系
4. 与权限结合
5. 配置化，支持重定向的配置
